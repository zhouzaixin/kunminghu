// Generated by CIRCT firtool-1.62.1
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

module CSRPermitModule(
  input         io_in_csrAccess_ren,
  input         io_in_csrAccess_wen,
  input  [11:0] io_in_csrAccess_addr,
  input  [1:0]  io_in_privState_PRVM,
  input         io_in_privState_V,
  input         io_in_debugMode,
  input         io_in_xRet_mnret,
  input         io_in_xRet_mret,
  input         io_in_xRet_sret,
  input         io_in_xRet_dret,
  input         io_in_status_tsr,
  input         io_in_status_vtsr,
  input         io_in_status_tvm,
  input         io_in_status_vtvm,
  input  [5:0]  io_in_status_vgein,
  input         io_in_status_mstatusFSOff,
  input         io_in_status_vsstatusFSOff,
  input         io_in_status_mstatusVSOff,
  input         io_in_status_vsstatusVSOff,
  input  [31:0] io_in_xcounteren_mcounteren,
  input  [31:0] io_in_xcounteren_hcounteren,
  input  [31:0] io_in_xcounteren_scounteren,
  input  [63:0] io_in_xenvcfg_menvcfg,
  input  [63:0] io_in_xenvcfg_henvcfg,
  input         io_in_xstateen_mstateen0_C,
  input         io_in_xstateen_mstateen0_SE0,
  input         io_in_xstateen_mstateen0_ENVCFG,
  input         io_in_xstateen_mstateen0_CSRIND,
  input         io_in_xstateen_mstateen0_AIA,
  input         io_in_xstateen_mstateen0_IMSIC,
  input         io_in_xstateen_mstateen0_CONTEXT,
  input         io_in_xstateen_hstateen0_C,
  input         io_in_xstateen_hstateen0_SE0,
  input         io_in_xstateen_hstateen0_ENVCFG,
  input         io_in_xstateen_hstateen0_CSRIND,
  input         io_in_xstateen_hstateen0_AIA,
  input         io_in_xstateen_hstateen0_IMSIC,
  input         io_in_xstateen_hstateen0_CONTEXT,
  input         io_in_xstateen_sstateen0_C,
  input         io_in_aia_miselectIsIllegal,
  input         io_in_aia_siselectIsIllegal,
  input         io_in_aia_vsiselectIsIllegal,
  input  [63:0] io_in_aia_siselect,
  input  [63:0] io_in_aia_vsiselect,
  input         io_in_aia_mvienSEIE,
  input         io_in_aia_hvictlVTI,
  output        io_out_hasLegalWen,
  output        io_out_hasLegalMNret,
  output        io_out_hasLegalMret,
  output        io_out_hasLegalSret,
  output        io_out_hasLegalDret,
  output        io_out_hasLegalWriteFcsr,
  output        io_out_hasLegalWriteVcsr,
  output        io_out_EX_II,
  output        io_out_EX_VI
);

  wire _indirectCSRPermitMod_io_out_indirectCSR_EX_II;
  wire _indirectCSRPermitMod_io_out_indirectCSR_EX_VI;
  wire _virtualLevelPermitMod_io_out_virtualLevelPermit_EX_II;
  wire _virtualLevelPermitMod_io_out_virtualLevelPermit_EX_VI;
  wire _privilegePermitMod_io_out_privilege_EX_II;
  wire _privilegePermitMod_io_out_privilege_EX_VI;
  wire _sLevelPermitMod_io_out_sLevelPermit_EX_II;
  wire _mLevelPermitMod_io_out_mLevelPermit_EX_II;
  wire _xRetPermitMod_io_out_Xret_EX_II;
  wire _xRetPermitMod_io_out_Xret_EX_VI;
  wire csrAccess = io_in_csrAccess_ren | io_in_csrAccess_wen;
  wire _csrAccess_EX_II_T =
    _mLevelPermitMod_io_out_mLevelPermit_EX_II
    | _sLevelPermitMod_io_out_sLevelPermit_EX_II;
  wire directPermit_illegal =
    _csrAccess_EX_II_T | _privilegePermitMod_io_out_privilege_EX_II
    | _privilegePermitMod_io_out_privilege_EX_VI
    | _virtualLevelPermitMod_io_out_virtualLevelPermit_EX_II
    | _virtualLevelPermitMod_io_out_virtualLevelPermit_EX_VI;
  wire io_out_EX_II_0 =
    csrAccess
    & (_csrAccess_EX_II_T | _privilegePermitMod_io_out_privilege_EX_II
       | _virtualLevelPermitMod_io_out_virtualLevelPermit_EX_II | ~directPermit_illegal
       & _indirectCSRPermitMod_io_out_indirectCSR_EX_II)
    | _xRetPermitMod_io_out_Xret_EX_II;
  wire io_out_EX_VI_0 =
    ~io_out_EX_II_0
    & (csrAccess
       & (_privilegePermitMod_io_out_privilege_EX_VI
          | _virtualLevelPermitMod_io_out_virtualLevelPermit_EX_VI | ~directPermit_illegal
          & _indirectCSRPermitMod_io_out_indirectCSR_EX_VI)
       | _xRetPermitMod_io_out_Xret_EX_VI);
  XRetPermitModule xRetPermitMod (
    .io_in_privState_PRVM (io_in_privState_PRVM),
    .io_in_privState_V    (io_in_privState_V),
    .io_in_debugMode      (io_in_debugMode),
    .io_in_xRet_mnret     (io_in_xRet_mnret),
    .io_in_xRet_mret      (io_in_xRet_mret),
    .io_in_xRet_sret      (io_in_xRet_sret),
    .io_in_xRet_dret      (io_in_xRet_dret),
    .io_in_status_tsr     (io_in_status_tsr),
    .io_in_status_vtsr    (io_in_status_vtsr),
    .io_out_Xret_EX_II    (_xRetPermitMod_io_out_Xret_EX_II),
    .io_out_Xret_EX_VI    (_xRetPermitMod_io_out_Xret_EX_VI),
    .io_out_hasLegalMNret (io_out_hasLegalMNret),
    .io_out_hasLegalMret  (io_out_hasLegalMret),
    .io_out_hasLegalSret  (io_out_hasLegalSret),
    .io_out_hasLegalDret  (io_out_hasLegalDret)
  );
  MLevelPermitModule mLevelPermitMod (
    .io_in_csrAccess_wen              (io_in_csrAccess_wen),
    .io_in_csrAccess_addr             (io_in_csrAccess_addr),
    .io_in_privState_PRVM             (io_in_privState_PRVM),
    .io_in_privState_V                (io_in_privState_V),
    .io_in_status_tvm                 (io_in_status_tvm),
    .io_in_status_mstatusFSOff        (io_in_status_mstatusFSOff),
    .io_in_status_vsstatusFSOff       (io_in_status_vsstatusFSOff),
    .io_in_status_mstatusVSOff        (io_in_status_mstatusVSOff),
    .io_in_status_vsstatusVSOff       (io_in_status_vsstatusVSOff),
    .io_in_xcounteren_mcounteren      (io_in_xcounteren_mcounteren),
    .io_in_xenvcfg_menvcfg            (io_in_xenvcfg_menvcfg),
    .io_in_xstateen_mstateen0_C       (io_in_xstateen_mstateen0_C),
    .io_in_xstateen_mstateen0_SE0     (io_in_xstateen_mstateen0_SE0),
    .io_in_xstateen_mstateen0_ENVCFG  (io_in_xstateen_mstateen0_ENVCFG),
    .io_in_xstateen_mstateen0_CSRIND  (io_in_xstateen_mstateen0_CSRIND),
    .io_in_xstateen_mstateen0_AIA     (io_in_xstateen_mstateen0_AIA),
    .io_in_xstateen_mstateen0_IMSIC   (io_in_xstateen_mstateen0_IMSIC),
    .io_in_xstateen_mstateen0_CONTEXT (io_in_xstateen_mstateen0_CONTEXT),
    .io_in_aia_mvienSEIE              (io_in_aia_mvienSEIE),
    .io_out_mLevelPermit_EX_II        (_mLevelPermitMod_io_out_mLevelPermit_EX_II),
    .io_out_hasLegalWriteFcsr         (io_out_hasLegalWriteFcsr),
    .io_out_hasLegalWriteVcsr         (io_out_hasLegalWriteVcsr)
  );
  SLevelPermitModule sLevelPermitMod (
    .io_in_csrAccess_addr        (io_in_csrAccess_addr),
    .io_in_privState_PRVM        (io_in_privState_PRVM),
    .io_in_privState_V           (io_in_privState_V),
    .io_in_xcounteren_scounteren (io_in_xcounteren_scounteren),
    .io_in_xstateen_sstateen0_C  (io_in_xstateen_sstateen0_C),
    .io_out_sLevelPermit_EX_II   (_sLevelPermitMod_io_out_sLevelPermit_EX_II)
  );
  PrivilegePermitModule privilegePermitMod (
    .io_in_csrAccess_addr   (io_in_csrAccess_addr),
    .io_in_privState_PRVM   (io_in_privState_PRVM),
    .io_in_privState_V      (io_in_privState_V),
    .io_in_debugMode        (io_in_debugMode),
    .io_out_privilege_EX_II (_privilegePermitMod_io_out_privilege_EX_II),
    .io_out_privilege_EX_VI (_privilegePermitMod_io_out_privilege_EX_VI)
  );
  VirtualLevelPermitModule virtualLevelPermitMod (
    .io_in_csrAccess_wen              (io_in_csrAccess_wen),
    .io_in_csrAccess_addr             (io_in_csrAccess_addr),
    .io_in_privState_PRVM             (io_in_privState_PRVM),
    .io_in_privState_V                (io_in_privState_V),
    .io_in_status_vtvm                (io_in_status_vtvm),
    .io_in_status_vgein               (io_in_status_vgein),
    .io_in_xcounteren_hcounteren      (io_in_xcounteren_hcounteren),
    .io_in_xcounteren_scounteren      (io_in_xcounteren_scounteren),
    .io_in_xenvcfg_henvcfg            (io_in_xenvcfg_henvcfg),
    .io_in_xstateen_hstateen0_C       (io_in_xstateen_hstateen0_C),
    .io_in_xstateen_hstateen0_SE0     (io_in_xstateen_hstateen0_SE0),
    .io_in_xstateen_hstateen0_ENVCFG  (io_in_xstateen_hstateen0_ENVCFG),
    .io_in_xstateen_hstateen0_CSRIND  (io_in_xstateen_hstateen0_CSRIND),
    .io_in_xstateen_hstateen0_AIA     (io_in_xstateen_hstateen0_AIA),
    .io_in_xstateen_hstateen0_IMSIC   (io_in_xstateen_hstateen0_IMSIC),
    .io_in_xstateen_hstateen0_CONTEXT (io_in_xstateen_hstateen0_CONTEXT),
    .io_in_xstateen_sstateen0_C       (io_in_xstateen_sstateen0_C),
    .io_in_aia_hvictlVTI              (io_in_aia_hvictlVTI),
    .io_out_virtualLevelPermit_EX_II
      (_virtualLevelPermitMod_io_out_virtualLevelPermit_EX_II),
    .io_out_virtualLevelPermit_EX_VI
      (_virtualLevelPermitMod_io_out_virtualLevelPermit_EX_VI)
  );
  IndirectCSRPermitModule indirectCSRPermitMod (
    .io_in_csrAccess_addr         (io_in_csrAccess_addr),
    .io_in_privState_PRVM         (io_in_privState_PRVM),
    .io_in_privState_V            (io_in_privState_V),
    .io_in_aia_miselectIsIllegal  (io_in_aia_miselectIsIllegal),
    .io_in_aia_siselectIsIllegal  (io_in_aia_siselectIsIllegal),
    .io_in_aia_vsiselectIsIllegal (io_in_aia_vsiselectIsIllegal),
    .io_in_aia_siselect           (io_in_aia_siselect),
    .io_in_aia_vsiselect          (io_in_aia_vsiselect),
    .io_in_aia_mvienSEIE          (io_in_aia_mvienSEIE),
    .io_out_indirectCSR_EX_II     (_indirectCSRPermitMod_io_out_indirectCSR_EX_II),
    .io_out_indirectCSR_EX_VI     (_indirectCSRPermitMod_io_out_indirectCSR_EX_VI)
  );
  assign io_out_hasLegalWen = io_in_csrAccess_wen & ~(io_out_EX_II_0 | io_out_EX_VI_0);
  assign io_out_EX_II = io_out_EX_II_0;
  assign io_out_EX_VI = io_out_EX_VI_0;
endmodule

