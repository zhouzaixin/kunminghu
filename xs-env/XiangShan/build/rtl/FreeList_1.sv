// Generated by CIRCT firtool-1.62.1
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

module FreeList_1(
  input         clock,
  input         reset,
  output [3:0]  io_allocateSlot_0,
  input         io_doAllocate_0,
  input  [15:0] io_free,
  output [4:0]  io_validCount
);

  reg  [3:0]       freeList_0;
  reg  [3:0]       freeList_1;
  reg  [3:0]       freeList_2;
  reg  [3:0]       freeList_3;
  reg  [3:0]       freeList_4;
  reg  [3:0]       freeList_5;
  reg  [3:0]       freeList_6;
  reg  [3:0]       freeList_7;
  reg  [3:0]       freeList_8;
  reg  [3:0]       freeList_9;
  reg  [3:0]       freeList_10;
  reg  [3:0]       freeList_11;
  reg  [3:0]       freeList_12;
  reg  [3:0]       freeList_13;
  reg  [3:0]       freeList_14;
  reg  [3:0]       freeList_15;
  reg              headPtr_flag;
  reg  [3:0]       headPtr_value;
  reg              tailPtr_flag;
  reg  [3:0]       tailPtr_value;
  reg  [15:0]      freeMask;
  reg              freeReq_next_nextVec_0_r;
  reg  [15:0]      freeSlotOH_next_nextVec_0_r;
  reg  [4:0]       freeSlotCnt;
  wire [15:0][3:0] _GEN =
    {{freeList_15},
     {freeList_14},
     {freeList_13},
     {freeList_12},
     {freeList_11},
     {freeList_10},
     {freeList_9},
     {freeList_8},
     {freeList_7},
     {freeList_6},
     {freeList_5},
     {freeList_4},
     {freeList_3},
     {freeList_2},
     {freeList_1},
     {freeList_0}};
  wire [15:0]      _remFreeSelMaskVec_T =
    ~(freeReq_next_nextVec_0_r ? freeSlotOH_next_nextVec_0_r : 16'h0);
  wire             _remFreeSelMaskVec_T_2 = freeMask[0] & _remFreeSelMaskVec_T[0];
  wire             _remFreeSelMaskVec_T_3 = freeMask[1] & _remFreeSelMaskVec_T[1];
  wire             _remFreeSelMaskVec_T_4 = freeMask[2] & _remFreeSelMaskVec_T[2];
  wire             _remFreeSelMaskVec_T_5 = freeMask[3] & _remFreeSelMaskVec_T[3];
  wire             _remFreeSelMaskVec_T_6 = freeMask[4] & _remFreeSelMaskVec_T[4];
  wire             _remFreeSelMaskVec_T_7 = freeMask[5] & _remFreeSelMaskVec_T[5];
  wire             _remFreeSelMaskVec_T_8 = freeMask[6] & _remFreeSelMaskVec_T[6];
  wire             _remFreeSelMaskVec_T_9 = freeMask[7] & _remFreeSelMaskVec_T[7];
  wire             _remFreeSelMaskVec_T_10 = freeMask[8] & _remFreeSelMaskVec_T[8];
  wire             _remFreeSelMaskVec_T_11 = freeMask[9] & _remFreeSelMaskVec_T[9];
  wire             _remFreeSelMaskVec_T_12 = freeMask[10] & _remFreeSelMaskVec_T[10];
  wire             _remFreeSelMaskVec_T_13 = freeMask[11] & _remFreeSelMaskVec_T[11];
  wire             _remFreeSelMaskVec_T_14 = freeMask[12] & _remFreeSelMaskVec_T[12];
  wire             _remFreeSelMaskVec_T_15 = freeMask[13] & _remFreeSelMaskVec_T[13];
  wire             _remFreeSelMaskVec_T_16 = freeMask[14] & _remFreeSelMaskVec_T[14];
  wire             _remFreeSelMaskVec_T_17 = freeMask[15] & _remFreeSelMaskVec_T[15];
  wire [15:0]      remFreeSelMaskVec_0 =
    {_remFreeSelMaskVec_T_17,
     _remFreeSelMaskVec_T_16,
     _remFreeSelMaskVec_T_15,
     _remFreeSelMaskVec_T_14,
     _remFreeSelMaskVec_T_13,
     _remFreeSelMaskVec_T_12,
     _remFreeSelMaskVec_T_11,
     _remFreeSelMaskVec_T_10,
     _remFreeSelMaskVec_T_9,
     _remFreeSelMaskVec_T_8,
     _remFreeSelMaskVec_T_7,
     _remFreeSelMaskVec_T_6,
     _remFreeSelMaskVec_T_5,
     _remFreeSelMaskVec_T_4,
     _remFreeSelMaskVec_T_3,
     _remFreeSelMaskVec_T_2};
  wire [15:0]      _remFreeSelIndexOHVec_highIndexOH_T_16 =
    {_remFreeSelMaskVec_T_17, 15'h0};
  wire [6:0]       _freeList_T_1 =
    freeSlotOH_next_nextVec_0_r[15:9] | freeSlotOH_next_nextVec_0_r[7:1];
  wire [2:0]       _freeList_T_3 = _freeList_T_1[6:4] | _freeList_T_1[2:0];
  wire [3:0]       _freeList_T_9 =
    {|(freeSlotOH_next_nextVec_0_r[15:8]),
     |(_freeList_T_1[6:3]),
     |(_freeList_T_3[2:1]),
     _freeList_T_3[2] | _freeList_T_3[0]};
  wire [4:0]       _tailPtrNext_new_ptr_T_1 =
    5'({tailPtr_flag, tailPtr_value} + {4'h0, freeReq_next_nextVec_0_r});
  wire [4:0]       _headPtrNext_new_ptr_T_1 =
    5'({4'h0, io_doAllocate_0} + {headPtr_flag, headPtr_value});
  always @(posedge clock or posedge reset) begin
    if (reset) begin
      freeList_0 <= 4'h0;
      freeList_1 <= 4'h1;
      freeList_2 <= 4'h2;
      freeList_3 <= 4'h3;
      freeList_4 <= 4'h4;
      freeList_5 <= 4'h5;
      freeList_6 <= 4'h6;
      freeList_7 <= 4'h7;
      freeList_8 <= 4'h8;
      freeList_9 <= 4'h9;
      freeList_10 <= 4'hA;
      freeList_11 <= 4'hB;
      freeList_12 <= 4'hC;
      freeList_13 <= 4'hD;
      freeList_14 <= 4'hE;
      freeList_15 <= 4'hF;
      headPtr_flag <= 1'h0;
      headPtr_value <= 4'h0;
      tailPtr_flag <= 1'h1;
      tailPtr_value <= 4'h0;
      freeMask <= 16'h0;
      freeReq_next_nextVec_0_r <= 1'h0;
      freeSlotOH_next_nextVec_0_r <= 16'h0;
      freeSlotCnt <= 5'h10;
    end
    else begin
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h0)
        freeList_0 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h1)
        freeList_1 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h2)
        freeList_2 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h3)
        freeList_3 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h4)
        freeList_4 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h5)
        freeList_5 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h6)
        freeList_6 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h7)
        freeList_7 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h8)
        freeList_8 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'h9)
        freeList_9 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'hA)
        freeList_10 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'hB)
        freeList_11 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'hC)
        freeList_12 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'hD)
        freeList_13 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & tailPtr_value == 4'hE)
        freeList_14 <= _freeList_T_9;
      if (freeReq_next_nextVec_0_r & (&tailPtr_value))
        freeList_15 <= _freeList_T_9;
      if (io_doAllocate_0) begin
        headPtr_flag <= _headPtrNext_new_ptr_T_1[4];
        headPtr_value <= _headPtrNext_new_ptr_T_1[3:0];
      end
      if (freeReq_next_nextVec_0_r) begin
        tailPtr_flag <= _tailPtrNext_new_ptr_T_1[4];
        tailPtr_value <= _tailPtrNext_new_ptr_T_1[3:0];
      end
      freeMask <= (io_free | freeMask) & _remFreeSelMaskVec_T;
      if (~((|remFreeSelMaskVec_0) == freeReq_next_nextVec_0_r))
        freeReq_next_nextVec_0_r <= |remFreeSelMaskVec_0;
      if (~((_remFreeSelMaskVec_T_2
               ? 16'h1
               : _remFreeSelMaskVec_T_3
                   ? 16'h2
                   : _remFreeSelMaskVec_T_4
                       ? 16'h4
                       : _remFreeSelMaskVec_T_5
                           ? 16'h8
                           : _remFreeSelMaskVec_T_6
                               ? 16'h10
                               : _remFreeSelMaskVec_T_7
                                   ? 16'h20
                                   : _remFreeSelMaskVec_T_8
                                       ? 16'h40
                                       : _remFreeSelMaskVec_T_9
                                           ? 16'h80
                                           : _remFreeSelMaskVec_T_10
                                               ? 16'h100
                                               : _remFreeSelMaskVec_T_11
                                                   ? 16'h200
                                                   : _remFreeSelMaskVec_T_12
                                                       ? 16'h400
                                                       : _remFreeSelMaskVec_T_13
                                                           ? 16'h800
                                                           : _remFreeSelMaskVec_T_14
                                                               ? 16'h1000
                                                               : _remFreeSelMaskVec_T_15
                                                                   ? 16'h2000
                                                                   : _remFreeSelMaskVec_T_16
                                                                       ? 16'h4000
                                                                       : _remFreeSelIndexOHVec_highIndexOH_T_16) == freeSlotOH_next_nextVec_0_r)) begin
        if (_remFreeSelMaskVec_T_2)
          freeSlotOH_next_nextVec_0_r <= 16'h1;
        else if (_remFreeSelMaskVec_T_3)
          freeSlotOH_next_nextVec_0_r <= 16'h2;
        else if (_remFreeSelMaskVec_T_4)
          freeSlotOH_next_nextVec_0_r <= 16'h4;
        else if (_remFreeSelMaskVec_T_5)
          freeSlotOH_next_nextVec_0_r <= 16'h8;
        else if (_remFreeSelMaskVec_T_6)
          freeSlotOH_next_nextVec_0_r <= 16'h10;
        else if (_remFreeSelMaskVec_T_7)
          freeSlotOH_next_nextVec_0_r <= 16'h20;
        else if (_remFreeSelMaskVec_T_8)
          freeSlotOH_next_nextVec_0_r <= 16'h40;
        else if (_remFreeSelMaskVec_T_9)
          freeSlotOH_next_nextVec_0_r <= 16'h80;
        else if (_remFreeSelMaskVec_T_10)
          freeSlotOH_next_nextVec_0_r <= 16'h100;
        else if (_remFreeSelMaskVec_T_11)
          freeSlotOH_next_nextVec_0_r <= 16'h200;
        else if (_remFreeSelMaskVec_T_12)
          freeSlotOH_next_nextVec_0_r <= 16'h400;
        else if (_remFreeSelMaskVec_T_13)
          freeSlotOH_next_nextVec_0_r <= 16'h800;
        else if (_remFreeSelMaskVec_T_14)
          freeSlotOH_next_nextVec_0_r <= 16'h1000;
        else if (_remFreeSelMaskVec_T_15)
          freeSlotOH_next_nextVec_0_r <= 16'h2000;
        else if (_remFreeSelMaskVec_T_16)
          freeSlotOH_next_nextVec_0_r <= 16'h4000;
        else
          freeSlotOH_next_nextVec_0_r <= _remFreeSelIndexOHVec_highIndexOH_T_16;
      end
      freeSlotCnt <=
        _tailPtrNext_new_ptr_T_1[4] == _headPtrNext_new_ptr_T_1[4]
          ? {1'h0, 4'(_tailPtrNext_new_ptr_T_1[3:0] - _headPtrNext_new_ptr_T_1[3:0])}
          : 5'(5'({1'h0, _tailPtrNext_new_ptr_T_1[3:0]} - 5'h10)
               - {1'h0, _headPtrNext_new_ptr_T_1[3:0]});
    end
  end // always @(posedge, posedge)
  `ifdef ENABLE_INITIAL_REG_
    `ifdef FIRRTL_BEFORE_INITIAL
      `FIRRTL_BEFORE_INITIAL
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM[0:3];
    initial begin
      `ifdef INIT_RANDOM_PROLOG_
        `INIT_RANDOM_PROLOG_
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT
        for (logic [2:0] i = 3'h0; i < 3'h4; i += 3'h1) begin
          _RANDOM[i[1:0]] = `RANDOM;
        end
        freeList_0 = _RANDOM[2'h0][3:0];
        freeList_1 = _RANDOM[2'h0][7:4];
        freeList_2 = _RANDOM[2'h0][11:8];
        freeList_3 = _RANDOM[2'h0][15:12];
        freeList_4 = _RANDOM[2'h0][19:16];
        freeList_5 = _RANDOM[2'h0][23:20];
        freeList_6 = _RANDOM[2'h0][27:24];
        freeList_7 = _RANDOM[2'h0][31:28];
        freeList_8 = _RANDOM[2'h1][3:0];
        freeList_9 = _RANDOM[2'h1][7:4];
        freeList_10 = _RANDOM[2'h1][11:8];
        freeList_11 = _RANDOM[2'h1][15:12];
        freeList_12 = _RANDOM[2'h1][19:16];
        freeList_13 = _RANDOM[2'h1][23:20];
        freeList_14 = _RANDOM[2'h1][27:24];
        freeList_15 = _RANDOM[2'h1][31:28];
        headPtr_flag = _RANDOM[2'h2][0];
        headPtr_value = _RANDOM[2'h2][4:1];
        tailPtr_flag = _RANDOM[2'h2][5];
        tailPtr_value = _RANDOM[2'h2][9:6];
        freeMask = _RANDOM[2'h2][25:10];
        freeReq_next_nextVec_0_r = _RANDOM[2'h2][26];
        freeSlotOH_next_nextVec_0_r = {_RANDOM[2'h2][31:27], _RANDOM[2'h3][10:0]};
        freeSlotCnt = _RANDOM[2'h3][15:11];
      `endif // RANDOMIZE_REG_INIT
      if (reset) begin
        freeList_0 = 4'h0;
        freeList_1 = 4'h1;
        freeList_2 = 4'h2;
        freeList_3 = 4'h3;
        freeList_4 = 4'h4;
        freeList_5 = 4'h5;
        freeList_6 = 4'h6;
        freeList_7 = 4'h7;
        freeList_8 = 4'h8;
        freeList_9 = 4'h9;
        freeList_10 = 4'hA;
        freeList_11 = 4'hB;
        freeList_12 = 4'hC;
        freeList_13 = 4'hD;
        freeList_14 = 4'hE;
        freeList_15 = 4'hF;
        headPtr_flag = 1'h0;
        headPtr_value = 4'h0;
        tailPtr_flag = 1'h1;
        tailPtr_value = 4'h0;
        freeMask = 16'h0;
        freeReq_next_nextVec_0_r = 1'h0;
        freeSlotOH_next_nextVec_0_r = 16'h0;
        freeSlotCnt = 5'h10;
      end
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL
      `FIRRTL_AFTER_INITIAL
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  assign io_allocateSlot_0 = _GEN[headPtr_value];
  assign io_validCount = 5'(5'h10 - freeSlotCnt);
endmodule

