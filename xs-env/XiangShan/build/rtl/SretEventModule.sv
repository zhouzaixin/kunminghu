// Generated by CIRCT firtool-1.62.1
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

module SretEventModule(
  input         valid,
  input  [1:0]  in_privState_PRVM,
  input         in_privState_V,
  input         in_mstatus_SPIE,
  input         in_mstatus_SPP,
  input         in_mstatus_SDT,
  input         in_mstatus_MDT,
  input         in_hstatus_SPV,
  input         in_vsstatus_SPIE,
  input         in_vsstatus_SPP,
  input         in_vsstatus_SDT,
  input  [62:0] in_sepc_epc,
  input  [62:0] in_vsepc_epc,
  input  [3:0]  in_satp_MODE,
  input  [3:0]  in_vsatp_MODE,
  input  [3:0]  in_hgatp_MODE,
  output        out_privState_valid,
  output [1:0]  out_privState_bits_PRVM,
  output        out_privState_bits_V,
  output        out_mstatus_valid,
  output        out_mstatus_bits_SIE,
  output        out_mstatus_bits_MIE,
  output        out_mstatus_bits_SPIE,
  output        out_mstatus_bits_UBE,
  output        out_mstatus_bits_MPIE,
  output        out_mstatus_bits_SPP,
  output [1:0]  out_mstatus_bits_VS,
  output [1:0]  out_mstatus_bits_MPP,
  output [1:0]  out_mstatus_bits_FS,
  output [1:0]  out_mstatus_bits_XS,
  output        out_mstatus_bits_MPRV,
  output        out_mstatus_bits_SUM,
  output        out_mstatus_bits_MXR,
  output        out_mstatus_bits_TVM,
  output        out_mstatus_bits_TW,
  output        out_mstatus_bits_TSR,
  output        out_mstatus_bits_SDT,
  output [1:0]  out_mstatus_bits_UXL,
  output [1:0]  out_mstatus_bits_SXL,
  output        out_mstatus_bits_SBE,
  output        out_mstatus_bits_MBE,
  output        out_mstatus_bits_GVA,
  output        out_mstatus_bits_MPV,
  output        out_mstatus_bits_MDT,
  output        out_mstatus_bits_SD,
  output        out_hstatus_valid,
  output        out_hstatus_bits_VSBE,
  output        out_hstatus_bits_GVA,
  output        out_hstatus_bits_SPV,
  output        out_hstatus_bits_SPVP,
  output        out_hstatus_bits_HU,
  output [5:0]  out_hstatus_bits_VGEIN,
  output        out_hstatus_bits_VTVM,
  output        out_hstatus_bits_VTW,
  output        out_hstatus_bits_VTSR,
  output [1:0]  out_hstatus_bits_VSXL,
  output [1:0]  out_hstatus_bits_HUPMM,
  output        out_vsstatus_valid,
  output        out_vsstatus_bits_SIE,
  output        out_vsstatus_bits_SPIE,
  output        out_vsstatus_bits_UBE,
  output        out_vsstatus_bits_SPP,
  output [1:0]  out_vsstatus_bits_VS,
  output [1:0]  out_vsstatus_bits_FS,
  output [1:0]  out_vsstatus_bits_XS,
  output        out_vsstatus_bits_SUM,
  output        out_vsstatus_bits_MXR,
  output        out_vsstatus_bits_SDT,
  output [1:0]  out_vsstatus_bits_UXL,
  output        out_vsstatus_bits_SD,
  output        out_targetPc_valid,
  output [63:0] out_targetPc_bits_pc,
  output        out_targetPc_bits_raiseIPF,
  output        out_targetPc_bits_raiseIAF,
  output        out_targetPc_bits_raiseIGPF
);

  wire        _out_privState_bits_V_output;
  wire        _instrAddrTransType_x5_T_2 = in_vsatp_MODE == 4'h0;
  wire        sretInM_v_PrvmIsM = &in_privState_PRVM;
  wire        isModeM = sretInM_v_PrvmIsM;
  wire        PrvmIsS = in_privState_PRVM == 2'h1;
  wire        isModeHS = ~in_privState_V & PrvmIsS;
  wire        sretInHSorM = isModeM | isModeHS;
  wire        isModeVS = in_privState_V & PrvmIsS;
  wire [62:0] _xepc_ret_epc_T_4 =
    (sretInHSorM ? in_sepc_epc : 63'h0) | (isModeVS ? in_vsepc_epc : 63'h0);
  wire        PrvmIsS_1 = sretInHSorM & in_mstatus_SPP | isModeVS & in_vsstatus_SPP;
  assign _out_privState_bits_V_output =
    sretInHSorM & in_hstatus_SPV | isModeVS & in_privState_V;
  wire        PrvmIsU = ~PrvmIsS_1;
  wire        isModeVU = _out_privState_bits_V_output & PrvmIsU;
  wire        isModeVS_1 = _out_privState_bits_V_output & PrvmIsS_1;
  wire        isModeHU = ~_out_privState_bits_V_output & PrvmIsU;
  wire        _out_mstatus_valid_T = valid & sretInHSorM;
  assign out_privState_valid = valid;
  assign out_privState_bits_PRVM = {1'h0, PrvmIsS_1};
  assign out_privState_bits_V = _out_privState_bits_V_output;
  assign out_mstatus_valid = _out_mstatus_valid_T;
  assign out_mstatus_bits_SIE = in_mstatus_SPIE;
  assign out_mstatus_bits_MIE = 1'h0;
  assign out_mstatus_bits_SPIE = 1'h1;
  assign out_mstatus_bits_UBE = 1'h0;
  assign out_mstatus_bits_MPIE = 1'h0;
  assign out_mstatus_bits_SPP = 1'h0;
  assign out_mstatus_bits_VS = 2'h0;
  assign out_mstatus_bits_MPP = 2'h0;
  assign out_mstatus_bits_FS = 2'h0;
  assign out_mstatus_bits_XS = 2'h0;
  assign out_mstatus_bits_MPRV = 1'h0;
  assign out_mstatus_bits_SUM = 1'h0;
  assign out_mstatus_bits_MXR = 1'h0;
  assign out_mstatus_bits_TVM = 1'h0;
  assign out_mstatus_bits_TW = 1'h0;
  assign out_mstatus_bits_TSR = 1'h0;
  assign out_mstatus_bits_SDT =
    ~(isModeHS | isModeM & (isModeHU | isModeVS_1 | isModeVU)) & in_mstatus_SDT;
  assign out_mstatus_bits_UXL = 2'h0;
  assign out_mstatus_bits_SXL = 2'h0;
  assign out_mstatus_bits_SBE = 1'h0;
  assign out_mstatus_bits_MBE = 1'h0;
  assign out_mstatus_bits_GVA = 1'h0;
  assign out_mstatus_bits_MPV = 1'h0;
  assign out_mstatus_bits_MDT = ~isModeM & in_mstatus_MDT;
  assign out_mstatus_bits_SD = 1'h0;
  assign out_hstatus_valid = _out_mstatus_valid_T;
  assign out_hstatus_bits_VSBE = 1'h0;
  assign out_hstatus_bits_GVA = 1'h0;
  assign out_hstatus_bits_SPV = 1'h0;
  assign out_hstatus_bits_SPVP = 1'h0;
  assign out_hstatus_bits_HU = 1'h0;
  assign out_hstatus_bits_VGEIN = 6'h0;
  assign out_hstatus_bits_VTVM = 1'h0;
  assign out_hstatus_bits_VTW = 1'h0;
  assign out_hstatus_bits_VTSR = 1'h0;
  assign out_hstatus_bits_VSXL = 2'h0;
  assign out_hstatus_bits_HUPMM = 2'h0;
  assign out_vsstatus_valid = valid & isModeVS;
  assign out_vsstatus_bits_SIE = in_vsstatus_SPIE;
  assign out_vsstatus_bits_SPIE = 1'h1;
  assign out_vsstatus_bits_UBE = 1'h0;
  assign out_vsstatus_bits_SPP = 1'h0;
  assign out_vsstatus_bits_VS = 2'h0;
  assign out_vsstatus_bits_FS = 2'h0;
  assign out_vsstatus_bits_XS = 2'h0;
  assign out_vsstatus_bits_SUM = 1'h0;
  assign out_vsstatus_bits_MXR = 1'h0;
  assign out_vsstatus_bits_SDT = ~(isModeVU | isModeVS) & in_vsstatus_SDT;
  assign out_vsstatus_bits_UXL = 2'h0;
  assign out_vsstatus_bits_SD = 1'h0;
  assign out_targetPc_valid = valid;
  assign out_targetPc_bits_pc = {_xepc_ret_epc_T_4, 1'h0};
  assign out_targetPc_bits_raiseIPF =
    (~_out_privState_bits_V_output & in_satp_MODE == 4'h8 | _out_privState_bits_V_output
     & in_vsatp_MODE == 4'h8) & _xepc_ret_epc_T_4[62:38] != {25{_xepc_ret_epc_T_4[37]}}
    | (~_out_privState_bits_V_output & in_satp_MODE == 4'h9 | _out_privState_bits_V_output
       & in_vsatp_MODE == 4'h9) & _xepc_ret_epc_T_4[62:47] != {16{_xepc_ret_epc_T_4[46]}};
  assign out_targetPc_bits_raiseIAF =
    (~_out_privState_bits_V_output & in_satp_MODE == 4'h0 | _out_privState_bits_V_output
     & _instrAddrTransType_x5_T_2 & in_hgatp_MODE == 4'h0)
    & (|(_xepc_ret_epc_T_4[62:47]));
  assign out_targetPc_bits_raiseIGPF =
    _out_privState_bits_V_output & _instrAddrTransType_x5_T_2 & in_hgatp_MODE == 4'h8
    & (|(_xepc_ret_epc_T_4[62:40])) | _out_privState_bits_V_output
    & _instrAddrTransType_x5_T_2 & in_hgatp_MODE == 4'h9 & (|(_xepc_ret_epc_T_4[62:49]));
endmodule

