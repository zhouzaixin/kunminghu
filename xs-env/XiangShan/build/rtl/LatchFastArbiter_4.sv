// Generated by CIRCT firtool-1.62.1
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

module LatchFastArbiter_4(
  input        clock,
  input        reset,
  output       io_in_0_ready,
  input        io_in_0_valid,
  input  [2:0] io_in_0_bits_sink,
  output       io_in_1_ready,
  input        io_in_1_valid,
  input  [2:0] io_in_1_bits_sink,
  output       io_in_2_ready,
  input        io_in_2_valid,
  input  [2:0] io_in_2_bits_sink,
  output       io_in_3_ready,
  input        io_in_3_valid,
  input  [2:0] io_in_3_bits_sink,
  output       io_in_4_ready,
  input        io_in_4_valid,
  input  [2:0] io_in_4_bits_sink,
  output       io_in_5_ready,
  input        io_in_5_valid,
  input  [2:0] io_in_5_bits_sink,
  output       io_in_6_ready,
  input        io_in_6_valid,
  input  [2:0] io_in_6_bits_sink,
  output       io_in_7_ready,
  input        io_in_7_valid,
  input  [2:0] io_in_7_bits_sink,
  output       io_in_8_ready,
  input        io_in_8_valid,
  input  [2:0] io_in_8_bits_sink,
  output       io_in_9_ready,
  input        io_in_9_valid,
  input  [2:0] io_in_9_bits_sink,
  output       io_in_10_ready,
  input        io_in_10_valid,
  input  [2:0] io_in_10_bits_sink,
  output       io_in_11_ready,
  input        io_in_11_valid,
  input  [2:0] io_in_11_bits_sink,
  output       io_in_12_ready,
  input        io_in_12_valid,
  input  [2:0] io_in_12_bits_sink,
  output       io_in_13_ready,
  input        io_in_13_valid,
  input  [2:0] io_in_13_bits_sink,
  input        io_out_ready,
  output       io_out_valid,
  output [2:0] io_out_bits_sink
);

  reg         out_valid_reg;
  reg  [2:0]  out_bits_reg_sink;
  reg  [13:0] chosen_reg;
  wire [13:0] valids =
    {io_in_13_valid,
     io_in_12_valid,
     io_in_11_valid,
     io_in_10_valid,
     io_in_9_valid,
     io_in_8_valid,
     io_in_7_valid,
     io_in_6_valid,
     io_in_5_valid,
     io_in_4_valid,
     io_in_3_valid,
     io_in_2_valid,
     io_in_1_valid,
     io_in_0_valid};
  reg  [13:0] pendingMask;
  reg  [13:0] rrGrantMask;
  wire        _rrSelOH_T_15 = rrGrantMask[0] & pendingMask[0];
  wire        _rrSelOH_T_2 = rrGrantMask[1] & pendingMask[1];
  wire        _rrSelOH_T_3 = rrGrantMask[2] & pendingMask[2];
  wire        _rrSelOH_T_4 = rrGrantMask[3] & pendingMask[3];
  wire        _rrSelOH_T_5 = rrGrantMask[4] & pendingMask[4];
  wire        _rrSelOH_T_6 = rrGrantMask[5] & pendingMask[5];
  wire        _rrSelOH_T_7 = rrGrantMask[6] & pendingMask[6];
  wire        _rrSelOH_T_8 = rrGrantMask[7] & pendingMask[7];
  wire        _rrSelOH_T_9 = rrGrantMask[8] & pendingMask[8];
  wire        _rrSelOH_T_10 = rrGrantMask[9] & pendingMask[9];
  wire        _rrSelOH_T_11 = rrGrantMask[10] & pendingMask[10];
  wire        _rrSelOH_T_12 = rrGrantMask[11] & pendingMask[11];
  wire        _rrSelOH_T_13 = rrGrantMask[12] & pendingMask[12];
  wire [13:0] rrSelOH =
    {rrGrantMask[13] & pendingMask[13]
       & {_rrSelOH_T_15,
          _rrSelOH_T_2,
          _rrSelOH_T_3,
          _rrSelOH_T_4,
          _rrSelOH_T_5,
          _rrSelOH_T_6,
          _rrSelOH_T_7,
          _rrSelOH_T_8,
          _rrSelOH_T_9,
          _rrSelOH_T_10,
          _rrSelOH_T_11,
          _rrSelOH_T_12,
          _rrSelOH_T_13} == 13'h0,
     _rrSelOH_T_13
       & {_rrSelOH_T_15,
          _rrSelOH_T_2,
          _rrSelOH_T_3,
          _rrSelOH_T_4,
          _rrSelOH_T_5,
          _rrSelOH_T_6,
          _rrSelOH_T_7,
          _rrSelOH_T_8,
          _rrSelOH_T_9,
          _rrSelOH_T_10,
          _rrSelOH_T_11,
          _rrSelOH_T_12} == 12'h0,
     _rrSelOH_T_12
       & {_rrSelOH_T_15,
          _rrSelOH_T_2,
          _rrSelOH_T_3,
          _rrSelOH_T_4,
          _rrSelOH_T_5,
          _rrSelOH_T_6,
          _rrSelOH_T_7,
          _rrSelOH_T_8,
          _rrSelOH_T_9,
          _rrSelOH_T_10,
          _rrSelOH_T_11} == 11'h0,
     _rrSelOH_T_11
       & {_rrSelOH_T_15,
          _rrSelOH_T_2,
          _rrSelOH_T_3,
          _rrSelOH_T_4,
          _rrSelOH_T_5,
          _rrSelOH_T_6,
          _rrSelOH_T_7,
          _rrSelOH_T_8,
          _rrSelOH_T_9,
          _rrSelOH_T_10} == 10'h0,
     _rrSelOH_T_10
       & {_rrSelOH_T_15,
          _rrSelOH_T_2,
          _rrSelOH_T_3,
          _rrSelOH_T_4,
          _rrSelOH_T_5,
          _rrSelOH_T_6,
          _rrSelOH_T_7,
          _rrSelOH_T_8,
          _rrSelOH_T_9} == 9'h0,
     _rrSelOH_T_9
       & {_rrSelOH_T_15,
          _rrSelOH_T_2,
          _rrSelOH_T_3,
          _rrSelOH_T_4,
          _rrSelOH_T_5,
          _rrSelOH_T_6,
          _rrSelOH_T_7,
          _rrSelOH_T_8} == 8'h0,
     _rrSelOH_T_8
       & {_rrSelOH_T_15,
          _rrSelOH_T_2,
          _rrSelOH_T_3,
          _rrSelOH_T_4,
          _rrSelOH_T_5,
          _rrSelOH_T_6,
          _rrSelOH_T_7} == 7'h0,
     _rrSelOH_T_7
       & {_rrSelOH_T_15,
          _rrSelOH_T_2,
          _rrSelOH_T_3,
          _rrSelOH_T_4,
          _rrSelOH_T_5,
          _rrSelOH_T_6} == 6'h0,
     _rrSelOH_T_6
       & {_rrSelOH_T_15, _rrSelOH_T_2, _rrSelOH_T_3, _rrSelOH_T_4, _rrSelOH_T_5} == 5'h0,
     _rrSelOH_T_5 & {_rrSelOH_T_15, _rrSelOH_T_2, _rrSelOH_T_3, _rrSelOH_T_4} == 4'h0,
     _rrSelOH_T_4 & {_rrSelOH_T_15, _rrSelOH_T_2, _rrSelOH_T_3} == 3'h0,
     _rrSelOH_T_3 & {_rrSelOH_T_15, _rrSelOH_T_2} == 2'h0,
     _rrSelOH_T_2 & ~_rrSelOH_T_15,
     _rrSelOH_T_15};
  wire [13:0] chosenOH =
    (|(rrSelOH & valids))
      ? rrSelOH
      : {io_in_13_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid,
              io_in_5_valid,
              io_in_6_valid,
              io_in_7_valid,
              io_in_8_valid,
              io_in_9_valid,
              io_in_10_valid,
              io_in_11_valid,
              io_in_12_valid} == 13'h0,
         io_in_12_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid,
              io_in_5_valid,
              io_in_6_valid,
              io_in_7_valid,
              io_in_8_valid,
              io_in_9_valid,
              io_in_10_valid,
              io_in_11_valid} == 12'h0,
         io_in_11_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid,
              io_in_5_valid,
              io_in_6_valid,
              io_in_7_valid,
              io_in_8_valid,
              io_in_9_valid,
              io_in_10_valid} == 11'h0,
         io_in_10_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid,
              io_in_5_valid,
              io_in_6_valid,
              io_in_7_valid,
              io_in_8_valid,
              io_in_9_valid} == 10'h0,
         io_in_9_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid,
              io_in_5_valid,
              io_in_6_valid,
              io_in_7_valid,
              io_in_8_valid} == 9'h0,
         io_in_8_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid,
              io_in_5_valid,
              io_in_6_valid,
              io_in_7_valid} == 8'h0,
         io_in_7_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid,
              io_in_5_valid,
              io_in_6_valid} == 7'h0,
         io_in_6_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid,
              io_in_5_valid} == 6'h0,
         io_in_5_valid
           & {io_in_0_valid,
              io_in_1_valid,
              io_in_2_valid,
              io_in_3_valid,
              io_in_4_valid} == 5'h0,
         io_in_4_valid
           & {io_in_0_valid, io_in_1_valid, io_in_2_valid, io_in_3_valid} == 4'h0,
         io_in_3_valid & {io_in_0_valid, io_in_1_valid, io_in_2_valid} == 3'h0,
         io_in_2_valid & {io_in_0_valid, io_in_1_valid} == 2'h0,
         io_in_1_valid & ~io_in_0_valid,
         io_in_0_valid};
  wire [6:0]  _io_out_valid_T_1 = {2'h0, chosen_reg[13:9]} | chosen_reg[7:1];
  wire [2:0]  _io_out_valid_T_3 = _io_out_valid_T_1[6:4] | _io_out_valid_T_1[2:0];
  wire [13:0] _io_out_valid_T_10 =
    valids
    >> {10'h0,
        |(chosen_reg[13:8]),
        |(_io_out_valid_T_1[6:3]),
        |(_io_out_valid_T_3[2:1]),
        _io_out_valid_T_3[2] | _io_out_valid_T_3[0]};
  wire        io_out_valid_0 = out_valid_reg & _io_out_valid_T_10[0];
  wire        latch_result = (|valids) & ~out_valid_reg;
  always @(posedge clock or posedge reset) begin
    if (reset) begin
      out_valid_reg <= 1'h0;
      out_bits_reg_sink <= 3'h0;
      chosen_reg <= 14'h0;
      pendingMask <= 14'h0;
      rrGrantMask <= 14'h0;
    end
    else begin
      out_valid_reg <= ~(io_out_ready & io_out_valid_0) & (latch_result | out_valid_reg);
      if (latch_result) begin
        out_bits_reg_sink <=
          (chosenOH[0] ? io_in_0_bits_sink : 3'h0)
          | (chosenOH[1] ? io_in_1_bits_sink : 3'h0)
          | (chosenOH[2] ? io_in_2_bits_sink : 3'h0)
          | (chosenOH[3] ? io_in_3_bits_sink : 3'h0)
          | (chosenOH[4] ? io_in_4_bits_sink : 3'h0)
          | (chosenOH[5] ? io_in_5_bits_sink : 3'h0)
          | (chosenOH[6] ? io_in_6_bits_sink : 3'h0)
          | (chosenOH[7] ? io_in_7_bits_sink : 3'h0)
          | (chosenOH[8] ? io_in_8_bits_sink : 3'h0)
          | (chosenOH[9] ? io_in_9_bits_sink : 3'h0)
          | (chosenOH[10] ? io_in_10_bits_sink : 3'h0)
          | (chosenOH[11] ? io_in_11_bits_sink : 3'h0)
          | (chosenOH[12] ? io_in_12_bits_sink : 3'h0)
          | (chosenOH[13] ? io_in_13_bits_sink : 3'h0);
        chosen_reg <= chosenOH;
        pendingMask <= valids & ~chosenOH;
        rrGrantMask <=
          {|(chosenOH[12:0]),
           |(chosenOH[11:0]),
           |(chosenOH[10:0]),
           |(chosenOH[9:0]),
           |(chosenOH[8:0]),
           |(chosenOH[7:0]),
           |(chosenOH[6:0]),
           |(chosenOH[5:0]),
           |(chosenOH[4:0]),
           |(chosenOH[3:0]),
           |(chosenOH[2:0]),
           |(chosenOH[1:0]),
           chosenOH[0],
           1'h0};
      end
    end
  end // always @(posedge, posedge)
  `ifdef ENABLE_INITIAL_REG_
    `ifdef FIRRTL_BEFORE_INITIAL
      `FIRRTL_BEFORE_INITIAL
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM[0:1];
    initial begin
      `ifdef INIT_RANDOM_PROLOG_
        `INIT_RANDOM_PROLOG_
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT
        for (logic [1:0] i = 2'h0; i < 2'h2; i += 2'h1) begin
          _RANDOM[i[0]] = `RANDOM;
        end
        out_valid_reg = _RANDOM[1'h0][0];
        out_bits_reg_sink = _RANDOM[1'h0][3:1];
        chosen_reg = _RANDOM[1'h0][17:4];
        pendingMask = _RANDOM[1'h0][31:18];
        rrGrantMask = _RANDOM[1'h1][13:0];
      `endif // RANDOMIZE_REG_INIT
      if (reset) begin
        out_valid_reg = 1'h0;
        out_bits_reg_sink = 3'h0;
        chosen_reg = 14'h0;
        pendingMask = 14'h0;
        rrGrantMask = 14'h0;
      end
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL
      `FIRRTL_AFTER_INITIAL
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  assign io_in_0_ready = chosen_reg[0] & out_valid_reg & io_out_ready;
  assign io_in_1_ready = chosen_reg[1] & out_valid_reg & io_out_ready;
  assign io_in_2_ready = chosen_reg[2] & out_valid_reg & io_out_ready;
  assign io_in_3_ready = chosen_reg[3] & out_valid_reg & io_out_ready;
  assign io_in_4_ready = chosen_reg[4] & out_valid_reg & io_out_ready;
  assign io_in_5_ready = chosen_reg[5] & out_valid_reg & io_out_ready;
  assign io_in_6_ready = chosen_reg[6] & out_valid_reg & io_out_ready;
  assign io_in_7_ready = chosen_reg[7] & out_valid_reg & io_out_ready;
  assign io_in_8_ready = chosen_reg[8] & out_valid_reg & io_out_ready;
  assign io_in_9_ready = chosen_reg[9] & out_valid_reg & io_out_ready;
  assign io_in_10_ready = chosen_reg[10] & out_valid_reg & io_out_ready;
  assign io_in_11_ready = chosen_reg[11] & out_valid_reg & io_out_ready;
  assign io_in_12_ready = chosen_reg[12] & out_valid_reg & io_out_ready;
  assign io_in_13_ready = chosen_reg[13] & out_valid_reg & io_out_ready;
  assign io_out_valid = io_out_valid_0;
  assign io_out_bits_sink = out_bits_reg_sink;
endmodule

